# NextWave App - Recent Updates

## üîÑ Widget Enhancements

### Improved Widget Performance
- **Auto-refresh mechanism**: Widgets now automatically update departure data when the app launches
- **Background loading**: Departure information is loaded in the background for faster widget display
- **Smart caching**: Optimized data caching to reduce API calls and improve battery life
- **Error handling**: Enhanced error handling for more reliable widget functionality

### Widget Display Improvements
- **Better layout**: Improved spacing and typography for better readability
- **Loading states**: Added proper loading indicators while fetching data
- **Data consistency**: Widgets now show the same information as the main app
- **Performance optimization**: Reduced widget loading times and memory usage

## üìÖ Schedule Period Display

### Summer & Winter Schedule Support
- **Automatic period detection**: The app now automatically detects and displays the correct schedule period (summer/winter)
- **Schedule period indicators**: Clear visual indicators show which schedule period is currently active
- **Seamless transitions**: Smooth transitions between different schedule periods
- **Period-specific data**: Departure times and schedules are automatically adjusted based on the active period

### Enhanced Schedule Management
- **Real-time updates**: Schedule periods are updated automatically based on the current date
- **Clear labeling**: Users can easily see which schedule period they're viewing
- **Consistent display**: Schedule period information is shown consistently across the app and widgets

### Schedule Change Notifications ‚ú®
- **Smart countdown messages**: Get notified about upcoming schedule changes with witty, personalized messages in the footer! üóìÔ∏è‚õ¥Ô∏è
- **30-day advance notice**: Countdown messages appear when schedule transitions are within 31 days
- **Season-specific messages**: Different fun messages for summer, winter, spring, and autumn transitions
- **All Swiss lakes supported**: Works for all 15+ major Swiss lakes with boat services

## üõ°Ô∏è Safety Rules & Wakethieving Guidelines

### New Safety Modal
- **First launch display**: Safety rules are automatically shown when users first open the app
- **Easy access**: Safety rules can be accessed anytime via the orange shield icon in the navigation bar
- **Comprehensive content**: Complete wakethieving safety guidelines in English

### Safety Rule Categories

#### Safe Distance Requirements
- **50-meter rule**: Maintain 50 meters distance on each side of priority vessels (passenger ships)
- **Visual reference**: 50 meters equals approximately one boat length for most ships
- **Clear guidelines**: Easy-to-understand distance requirements for safe wakethieving

#### Identifying Priority Vessels
- **Day identification**: Green ball at the highest point during daylight hours
- **Night identification**: 
  - White light at the bow
  - Green light on starboard (right side)
  - Red light on port (left side)
  - Green light at the highest point

#### Critical Safety Rules
- **Never ride in front**: Absolute prohibition against riding in front of ships
- **Quick route exit**: Leave the priority route as quickly as possible
- **Best waves location**: Reminder that the best waves are further back anyway

#### Required Safety Equipment
- **Head protection**: Highly visible headgear required for safety
- **Life jacket requirement**: Mandatory outside 300m shore zone with minimum 75N buoyancy
- **Equipment recommendations**: Suggestions for appropriate safety gear (e.g., Restube inflatable life jackets)

#### Emergency Safety Information
- **Emergency stop dangers**: Explanation of propeller suction risks during emergency stops
- **Legal compliance**: Emphasis on following rules to keep wakethieving legal and accessible

### Community Integration
- **Swiss Pumpfoilers Code of Conduct**: Direct link to the community guidelines at responsible.pumpfoiling.community
- **Community participation**: Encouragement to join the responsible pumpfoiling movement
- **Professional design**: Beautiful gradient-styled link with clear call-to-action

## üé® User Interface Improvements

### Enhanced Navigation
- **Safety icon**: New orange shield icon for easy access to safety rules
- **Intuitive design**: Clear visual hierarchy and improved user experience
- **Consistent styling**: Unified design language across all new features

### Modal Design
- **Professional layout**: Clean, structured presentation of safety information
- **Card-based design**: Information organized in easy-to-read cards
- **Visual icons**: Appropriate icons for each safety category
- **Responsive design**: Optimized for all device sizes

## üöÄ Technical Improvements

### Performance Enhancements
- **Optimized loading**: Faster app startup and data loading
- **Memory management**: Improved memory usage and efficiency
- **Error handling**: Better error handling and user feedback
- **Code organization**: Cleaner, more maintainable code structure

### Data Management
- **UserDefaults integration**: Efficient storage of user preferences and first-launch state
- **API optimization**: Improved API calls and data synchronization
- **Background processing**: Enhanced background data processing for widgets

---

*These updates represent our commitment to providing a safe, reliable, and user-friendly wakethieving experience while promoting responsible practices on Swiss waters.*
